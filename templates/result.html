<!DOCTYPE html>

<head>
    <meta charset="utf-8", lang="ja">
    <title>çµæœ</title>
    <link rel="stylesheet", type="text/css" href="./static/css/style-result.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>

<header>
    <div class="header-left">Vocabularyé“å ´</div>
    <div class="header-right">
        <img src="{{ url_for('static', filename='images/English-Logo.jpg') }}" alt="Logo" class="logo">
    </div>
</header>

<!-- ã‚³ãƒ³ãƒ†ãƒŠé–‹å§‹ -->
<div class="container">

<h2>è§£ç­”çµæœ</h2>
CEFR-{{ level }}ãƒ¬ãƒ™ãƒ«

<div class="correct-and-save">
    <div class="correct-line">æ­£è§£ã¯</div>
    <div class="correct-word">{{ correct }}</div>
    {% if current_user.is_authenticated %}
    <form action="/save_word" method="POST">
        <input type="hidden" name="word" value="{{ correct }}">
        <input type="hidden" name="question_text" value="{{ generated_text }}">
        <input type="hidden" name="level" value="{{ level }}">
        <button type="submit" class="save-button">ã“ã®å˜èªã‚’ä¿å­˜</button>
    </form>
    {% endif %}
</div>


<div class="text-box">
{{ generated_text_with_highlight }}
</div>

<!--
<p>æ­£è§£ã¯ï¼š<span style="color: #02A08F; font-size: 1.5em;"><b>{{ correct }}</b></span></p>

{% if current_user.is_authenticated %}
<form action="/save_word" method="POST">
    <input type="hidden" name="word" value="{{ correct }}">
    <button type="submit">ã“ã®å˜èªã‚’ä¿å­˜</button>
</form>
{% endif %}
-->


{% if user_answer == correct %}
<div class="speech-bubble">
    ğŸ‰ æµçŸ³ã ã­ï¼ ã“ã®èª¿å­ã§é ‘å¼µã‚ã†!! ğŸ‰
</div>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.3.2/dist/confetti.browser.min.js"></script>
<script>
confetti({
	       particleCount: 200,
	       spread: 100,
	       origin: { y: 0.7 }
	     });
</script>
{% endif %}

<p class="user-answer">ã‚ãªãŸã®ç­”ãˆï¼š<b>{{ user_answer }}</b></p>
<!--
<div>
é¸æŠè‚¢ã®å˜èªä¸€è¦§(ğŸ”ã§æ„å‘³ã‚’Check!)
    <ul>
    {% for word, _ in options %}
        {{ word }}<a href="https://www.deepl.com/ja/translator#en/ja/{{ word | urlencode }}" target="_blank" id="DeepL-options"> ğŸ” </a>
    {% endfor %}
    </ul>
</div>
-->
<div class="option-word">
    <p>é¸æŠè‚¢ã®å˜èªä¸€è¦§(ğŸ”ã§æ„å‘³ã‚’Check!)</p>
    <div class="option-grid">
      {% for word, _ in options %}
        <div class="option-cell">
          {{ word }}
          <a href="https://www.deepl.com/ja/translator#en/ja/{{ word | urlencode }}" target="_blank" id="DeepL-options"> ğŸ” </a>
        </div>
      {% endfor %}
    </div>
  </div>


<!--
<form action="/practice" method="get">
    <input type="hidden" name="level" value="{{ level }}">
    <button type="submit">ã‚‚ã†ä¸€å•ã‚„ã‚‹</button>
</form>
<a href="/">Homeç”»é¢ã«æˆ»ã‚‹</a>
-->

<div class="button-row">
    <form action="/practice" method="get">
        <input type="hidden" name="level" value="{{ level }}">
        <button type="submit" class="retry-button">ã‚‚ã†ä¸€å•ã‚„ã‚‹</button>
    </form>
    <a href="/" class="home-button">Homeç”»é¢ã«æˆ»ã‚‹</a>
</div>

</div> <!-- ã‚³ãƒ³ãƒ†ãƒŠçµ‚äº† -->

<footer>
    <small>ã‚ãªãŸã®å˜èªå­¦ç¿’ã®æ‰‹åŠ©ã‘ã«</small>
</footer>

</body>
</html>